<!DOCTYPE html>
<html lang="en-us">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      stf &bull; out &middot; KB with instant search
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/stfclv.github.io/public/css/poole.css">
  <link rel="stylesheet" href="/stfclv.github.io/public/css/syntax.css">
  <link rel="stylesheet" href="/stfclv.github.io/public/css/hyde.css">
  <link rel="stylesheet" href="/stfclv.github.io/public/css/algolia.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/stfclv.github.io/public/apple-touch-icon-144-precomposed.png">
                                 <link rel="shortcut icon" href="/stfclv.github.io/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08">

    <div class="sidebar">
  <div class="container sidebar-sticky">
    <div class="sidebar-about">
      <h1>
        <a href="/stfclv.github.io/">
          stf &bull; out
        </a>
      </h1>
      <p class="lead">My personal knowledge base, blog notes and thoughts on top of the popular <a href="http://hyde.getpoole.com/" target="_blank">Hyde</a> &hearts; <a href="http://jekyllrb.com" target="_blank">Jekyll</a>. Made by <a href="https://twitter.com/stefun_" target="_blank">@stefun_</a>, Solutions Architect <a href="http://www.cloudera.com" target="_blank">@Cloudera</a>.</a></p>
    </div>

    <input type="text" class="algolia__input js-algolia__input" autocomplete="off" name="query" placeholder="Search in this site..." />

    <nav class="sidebar-nav">
      <a class="sidebar-nav-item" href="/stfclv.github.io/">Home</a>

      

      
      
        
          
        
      
        
          
          <a class="sidebar-nav-item" href="/stfclv.github.io/about/">About</a>
          
        
      
        
      
        
          
        
      
        
          
          <a class="sidebar-nav-item" href="/stfclv.github.io/security/">Security</a>
          
        
      
        
          
          <a class="sidebar-nav-item" href="/stfclv.github.io/tricks/">Trixx</a>
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      
        
          
        
      

      <a class="sidebar-nav-item" href="https://github.com/stfclv/stfclv.github.io">GitHub project</a>
      <span class="sidebar-nav-item">Currently v2.1.0</span>
    </nav>

    <p>&copy; 2018. All rights reserved. Original by <a href="https://twitter.com/mdo" target="_blank">@mdo</a> and <a href="https://www.algolia.com/" target="_blank">Algolia</a>.</p>
  </div>
</div>


    <div class="content container">
      <div class="algolia__initial-content js-algolia__initial-content"><div class="posts">
  
  <div class="post">
    <h1 class="post-title">
      <a href="/stfclv.github.io/2018/06/18/markdown-redcarpet-and-extensions/">
        Markdown / Redcarpet and Extensions
      </a>
    </h1>

    <span class="post-date">18 Jun 2018</span>

    <p>Redcarpet is a Ruby library for Markdown processing that smells like butterflies and popcorn.</p>

<p>Redcarpet was written by Vicent Martí. It is maintained by Robin Dupret and Matt Rogers.</p>

<p>Redcarpet would not be possible without the Sundown library and its authors (Natacha Porté, Vicent Martí, and its many awesome contributors).</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/stfclv.github.io/2015/07/15/new-distributed-search-network-texas/">
        Welcome Texas!
      </a>
    </h1>

    <span class="post-date">15 Jul 2015</span>

    <p>You probably already know it: any millisecond that end-users have to wait to
get their results drives us nuts. But what on Earth does this have to do with
Texas? Actually a lot!</p>

<h2>You want your search to be instant? Let&#39;s talk network...</h2>

<p>When looking at the speed of search on a website or a mobile application, the
performance of the search engine is just one part of the equation. When you&#39;re
using an extremely fast engine, network latency and saturated links quickly
become your biggest enemies: it simply takes time for the user query to reach
the engine and for the results to get back to the user&#39;s browser.</p>

<p>In some cases, the round trip can easily take more than a second. In the US, it
can take up to 300ms to simply establish an SSL connection between the two
coasts.  All this also applies to the communications between your backend and
the servers that host your search engine. The network can simply ruin the real
time experience you hoped to offer with your search engine.</p>

<h2>A new US Central point of presence to reach a 25ms total delivery time across the US</h2>

<p>A great search experience is to drive end-users towards what they&#39;re looking
as quickly and seamlessly as possible. For us at Algolia it means to be able
to dynamically update the content displayed as the end-user is typing a query.
Being able to offer this find as-you-type experience obviously requires a very
performant search engine but it also requires to host the search engine itself
as close as possible to the end-user in order to tackle the network latency.</p>

<p>This is why we are adding this new US Central region to our existing twelve
regions. With the addition of the Dallas PoP, Algolia&#39;s API is now accessible
from thirteen different regions including US (East, West and Central),
Australia, Brazil, Canada, France, Germany, Hong Kong, India, Japan, Russia,
and Singapore.</p>

<p>If your audience is spread out across multiple regions, you can use Algolia
from a combination of these regions to ensure minimal results delivery time
and optimal speed for all your users (Algolia&#39;s Distributed Search Network
automatically routes user queries to your closest region).</p>

<p>This new US Central PoP, combined with Algolia&#39;s US East and US West PoPs, now
allows to deliver search results across the US with less than 25 milliseconds of
latency. This guarantees a seamless find-as-you-type experience on websites and
mobile applications all across the US.</p>

<p><a href="https://blog.algolia.com/wp-content/uploads/2015/07/dallas2.jpg"><img src="/assets/dallas2.jpg" alt="dallas2"></a></p>

<h2>Getting closer to additional infrastructure providers</h2>

<p>When you choose SaaS providers, especially when their service becomes a core
component of your product, you probably prefer the ones hosted close to where
you operate your backend, for latency and availability reasons. This is
actually why we initially started in the US by opening PoPs in Ashburn (VA)
and San Jose (CA), close to the AWS PoPs, which most of our customers rely on
today.</p>

<p>Our new presence in Texas allows services which rely for their backend on
local infrastructure providers such as Rackspace and Softlayer to also benefit
from the full power of Algolia. This new PoP offers them an extremely low
network latency between their backend and our API.</p>

<p>If you&#39;re not already an Algolia user and you want to give it a try, simply
<a href="https://www.algolia.com/users/sign_up">sign up</a> for a 14 day trial and select
the US Central region in the process.</p>

<p>If you are already using Algolia and want to migrate to the US Central region,
simply drop us a line at <a href="mailto:support@algolia.com">support@algolia.com</a> or
on the live chat.</p>

<p>If you&#39;re none of the two above, we still think you&#39;re awesome!</p>

<p>Cheers!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/stfclv.github.io/2015/06/15/when-solid-state-drives-are-not-that-solid/">
        When Solid State Drives are not that solid
      </a>
    </h1>

    <span class="post-date">15 Jun 2015</span>

    <p>It looked just like another page in the middle of the night. One of the
servers of our search API stopped processing the indexing jobs for an unknown
reason. Since we build systems in Algolia for high availability and
resiliency, nothing bad was happening. The new API calls were correctly
redirected to the rest of the <a href="http://highscalability.com/blog/2015/3/9/the-architecture-of-%0Aalgolias-distributed-search-network.html">healthy machines in the
cluster</a> and the only impact on the service
was one woken-up engineer. It was time to find out what was going on.</p>

<p>UPDATE June 16:<br>
<a href="https://hn.algolia.com/story/9723066/when-solid-state-drives-are-not-that-solid">A lot of
discussions</a>
started pointing out that the issue is related to the newly introduced queued
TRIM. This is not correct. The TRIM on our drives is un-queued and the issue we
have found is not related to the latest changes in the Linux Kernel to disable
this feature.</p>

<p>UPDATE June 17:<br>
We got contacted by Samsung and we provided them all the system specifications and all the information about the issue we had. We will continue to provide Samsung all the necessary information in order to resolve the issue.</p>

<p>UPDATE June 18:
We just had a conference call with the European branch and the Korean HQ of
Samsung. Their engineers are going to visit one of the datacenters we have
servers in and in cooperation with our server provider they will inspect the
mentioned SSDs in our SW and HW setup.</p>

<p>UPDATE June 19:<br>
On Monday June 22, the engineering team from Samsung is going analyze one of our servers in Singapore and if nothing is found on-site, the server will travel to Samsung HQ in Korea for further analysis.</p>

<p>UPDATE July 13:<br>
Since the last update of this blog-post, we have been in a cooperation with Samsung trying to help them find the issue, during this investigation we agreed with Samsung not to communicate until their approval.</p>

<p>As the issue was not reproduced on our server in Singapore, the reproduction
is now running under Samsung supervision in Korea, out of our environment.
Although Samsung requested multiple times an access to our software and
corrupted data, we could not provide it to them in order to protect the
privacy and data of our customers.</p>

<p>Samsung asked us to inform you about this:</p>

<ul>
<li>Samsung tried to duplicate the failure with the latest script provided to them, but no single failure has been reproduced so far.</li>
<li>Samsung will do further tests, most likely from week 29 onwards, with a much more intensive script provided by Algolia.</li>
</ul>

<p>After unsuccessful tries to reproduce the issue with Bash scripts we have
decided to help them by creating a small C++ program that simulates the
writing style and pattern of our application (no files are open with
O_DIRECT). We believe that if the issue is coming from a specific way we are
using the standard kernel calls, it might take a couple of days and terabytes
of data to be written to the drive. </p>

<p>We have been informed by Samsung that no issue of this kind have been reported
to them. Our server provider has modified their Ubuntu 14.04 images to disable
the fstrim cron in order to avoid this issue. For the last couple of months
after not using trim anymore we have not seen the issue again.</p>

<p>UPDATE July 17:<br>
We have just finished a conference call with Samsung
considering the failure analysis of this issue. Samsung engineering team has
been able to successfully reproduce the issue with our latest provided binary.</p>

<ul>
<li>Samsung had a concrete conclusion that the issue is not related to Samsung SSD or Algolia software but is related to the Linux kernel.</li>
<li>Samsung has developed a kernel patch to resolve this issue and the official statement with details will be released tomorrow, July 18 on Linux community with the Linux patch guide. Our testing code <a href="https://github.com/algolia/trimtester">is available on GitHub</a>.</li>
</ul>

<p>This has been an amazing ride, thank you everyone for joining, we have arrived
at the destination.</p>

<hr>

<p>The <a href="http://nginx.org/">NGINX</a> daemon serving all the HTTP(S) communication of
our API was up and ready to serve the search queries but the indexing process
crashed. Since the indexing process is guarded by
<a href="http://cr.yp.to/daemontools/supervise.html">supervise</a>, crashing in a loop
would have been understandable but a complete crash was not. As it turned out
the filesystem was in a read-only mode. All right, let&#39;s assume it was a
cosmic ray :) the filesystem got fixed, files were restored from another
healthy server and everything looked fine again.</p>

<p>The next day another server ended with filesystem in read-only, two hours
after another one and then next hour another one. Something was going on.
After restoring the filesystem and the files, it was time for serious analysis
since this was not a one time thing. At this point, we did a breakdown of the
software involved in our storage stack and went through the recent changes.</p>

<h2>Investigation &amp; debugging time!</h2>

<p>We first asked ourselves if it could be related to our software. Are we using
non-safe system calls or processing the data in an unsafe way? Did we
incorrectly read and write the files in the memory before flushing it to disk?</p>

<ul>
<li>Filesystem - Is there a bug in <a href="https://en.wikipedia.org/wiki/Ext4">ext4</a>? Can we access the memory space of allocation tables by accident?</li>
<li><a href="https://raid.wiki.kernel.org/index.php/Linux_Raid">Mdraid</a> - Is there a bug in mdadm? Did we use an improper configuration?</li>
<li>Driver - Does the driver have a bug?</li>
<li><a href="https://en.wikipedia.org/wiki/Solid-state_drive">SSD</a> - Is the SSD dying? Or even worse, is there a problem with the firmware of the drive?</li>
</ul>

<p>We even started to bet where the problem was and exactly proposed, in this
order, the possible solutions going from easy to super-hard.</p>

<p>Going through storage procedures of our software stack allowed us to set up
traps and in case the problem happens again, we would be able to better
isolate the corrupted parts. Looking at every single storage call of our
engine gave us enough confidence that the problem was not coming from the way
in which we manipulate the data. Unfortunately.</p>

<p>One hour later, another server was corrupted. This time we took it out of the
cluster and started to inspect it bit by bit. Before we fixed the filesystem,
we noticed that some pieces of our files were missing (zeroed) - file
modification date was unchanged, size was unchanged, just some parts were
filled with zeros. Small files were completely erased. </p>

<p>This was weird, so we started to think if it was possible that our application
could access certain portions of the memory where the OS/filesystem had
something mapped because otherwise our application cannot modify a file without
the filesystem noticing. Having our software written in C++ brought a lot of
crazy ideas of what happened. This turned out to be a dead-end as all of these
memory blocks were out of our reach.</p>

<p>So is there an issue in the ext4? Going through the kernel changelog looking
for ext4 related issues was a terrifying experience. In almost every version
we found a fixed bug that could theoretically impact us. I have to admit, I
slept better before reading the changelog.</p>

<p>We had kernels 3.2, 3.10, 3.13 and 3.16 distributed between the most often
corrupted machines and waited to see which of the mines blows up. All of them
did. Another dead-end. Maybe there was an issue in ext4 that no one else has
seen before? The chance that we were this “lucky” was quite low and we did not
want to end up in a situation like that. The possibility of a bug in ext4 was
still open but highly improbable.</p>

<p>What if there was an issue in mdadm? Looking at the changelog gave us
confidence that we should not go down this path.</p>

<p>The level of despair was reaching a critical level and the pages in the middle
of the night were unstoppable. We spent a big portion of two weeks just
isolating machines as quickly as possible and restoring them as quickly as
possible. The one thing we did was to implement a check in our software that
looked for empty blocks in the index files, even when they were not used, and
alerted us in advance.</p>

<h2>Not a single day without corruptions</h2>

<p>While more and more machines were dying, we had managed to automate the
restore procedure to a level we were comfortable with. At every failure, we
tried to look at different patterns of the corruption in hopes that we would
find the smallest common denominator. They all had the same characteristics.
But one thing started to be more and more clear - we saw the issue only on a
portion of our servers. </p>

<p>The software stack was identical but the hardware was slightly different. Mainly
the SSDs were different but they were all from the same manufacturer. This was
very alarming and led us to contact our server provider to ask if they have ever
seen something like this before. It’s hard to convince a technical support
person about a problem that you see only once in a while, with the latest
firmware and that you cannot reproduce on demand.  We were not very successful
but at least we had one small victory on our side.</p>

<p>Knowing that the issue existed somewhere in the combination of the software
and drive itself, we reproduced the identical software stack from our servers
with different drives. And? Nothing, the corruption appeared again. So it was
quite safe to assume the problem was not in the software stack and was more
drive related. But what causes a block to change the content without the rest
of the system noticing? That would be a lot of rotten bits in a sequence...</p>

<p>The days started to become a routine - long shower, breakfast, restoring
corrupted servers, lunch, restoring corrupted servers, dinner, restoring
corrupted servers. Until one long morning shower full of thinking, “how big
was the sequence?” As it turned out, the lost data was always 512 bytes, which
is one block on the drive. </p>

<p>One step further, a block ends up to be full of zeroes. A hardware bug? Or is
the block zeroed? What can zero the block?
<a href="https://en.wikipedia.org/wiki/Trim_(computing)">TRIM</a>! Trim instructs the SSD
drive to zero the empty blocks. But these block were not empty and other types
of SSDs were not impacted. We gave it a try and disabled TRIM across all of our
servers. It would explain everything!</p>

<p>The next day not a single server was corrupted, two days silence, then a week.
The nightmare was over! At least we thought so… a month after we isolated the
problem, a server restarted and came up with corrupted data but only from the
small files - including certificates. Even improper shutdown cannot cause
this.</p>

<p>Poking around in the source code of the kernel looking for the trim related
code, we came to the <a href="https://github.com/torvalds/linux/blob/e%0A64f638483a21105c7ce330d543fa1f1c35b5bc7/drivers/ata/libata-%0Acore.c#L4109-L4286">trim blacklist</a>. This blacklist configures a specific behavior for certain
SSD drives and identifies the drives based on the regexp of the model name.
Our working SSDs were explicitly allowed full operation of the TRIM but some
of the SSDs of our affected manufacturer were limited. Our affected drives did
not match any pattern so they were implicitly allowed full operation.</p>

<h2>The complete picture</h2>

<p>At this moment we finally got a complete picture of what was going on. The
system was issuing a TRIM to erase empty blocks, the command got
misinterpreted by the drive and the controller erased blocks it was not
supposed to. Therefore our files ended-up with 512 bytes of zeroes, files
smaller than 512 bytes were completely zeroed. When we were lucky enough, the
misbehaving TRIM hit the super-block of the filesystem and caused a
corruption. </p>

<p>After disabling the TRIM, the live big files were no longer
corrupted but the small files that were once mapped to the memory and never
changed since then had two states - correct content in the memory and
corrupted one on the drive. Running a check on the files found nothing because
they were never fetched again from the drive and just silently read from the
memory. Massive reboot of servers came into play to restore the data
consistency but after many weeks of hunting a ghost we came to the end.</p>

<p>As a result, we informed our server provider about the affected SSDs and they
informed the manufacturer. Our new deployments were switched to different SSD
drives and we don&#39;t recommend anyone to use any SSD that is anyhow mentioned
in a bad way by the Linux kernel. Also be careful, even when you don&#39;t enable
the TRIM explicitly, at least since Ubuntu 14.04 the explicit
<a href="http://man7.org/linux/man-pages/man8/fstrim.8.html">FSTRIM</a> runs in a cron
once per week on all partitions - the freeze of your storage for a couple of
seconds will be your smallest problem.</p>

<h2>TL;DR</h2>

<h3><del>Broken SSDs</del>: (Drives on which we have detected the issue)</h3>

<ul>
<li>SAMSUNG MZ7WD480HCGM-00003</li>
<li>SAMSUNG MZ7GE480HMHP-00003</li>
<li>SAMSUNG MZ7GE240HMGR-00003</li>
<li><p>Samsung SSD 840 PRO Series<br>
recently blacklisted for 8-series blacklist</p></li>
<li><p>Samsung SSD 850 PRO 512GB<br>
recently blacklisted as 850 Pro and later in 8-series blacklist</p></li>
</ul>

<h3><del>Working SSDs</del>: (Drives on which we have NOT detected the issue)</h3>

<ul>
<li>Intel S3500</li>
<li>Intel S3700</li>
<li>Intel S3710</li>
</ul>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/stfclv.github.io/2015/05/28/we-just-raised-our-series-a-whats-next/">
        We just raised our Series A. What's next?
      </a>
    </h1>

    <span class="post-date">28 May 2015</span>

    <p>You may have heard last week in the <a href="https://www.algolia.com/press">press</a>,
Algolia has just raised an $18.3M Series A round of financing led by Accel
Partners! Philippe Botteri from Accel is joining our board and we can&#39;t wait
to benefit from his experience! We are also excited to welcome Lead Edge
Capital and to have received the trust of industry pioneers such as Ilya
Sukhar of Parse, Solomon Hykes of Docker, Erik Swan of Splunk, and Kevin Rose
of Digg.</p>

<p>This funding represents a major milestone for Algolia. Thanks to the
commitment of our customers our growth last year enabled us to demonstrate a
strong product market fit. We are proud to count many of you as our customers
who have seen in our offer a way to deliver a better search experience,
improving their end-users&#39; engagement.</p>

<p>We want to change the way people interact with information. We don&#39;t want
people to &quot;search&quot; in the traditional type-keyword/hit-enter/wait-for-results
/repeat-until-found-or-abandon way; we want them to intuitively access data.
We strongly believe that search should become a frontend and UX priority.
That&#39;s why we focus so much on the two must-haves for building a seamless and
interactive experience: speed which enables updating results as-you-type, and
relevance which ensures that results are good even after only a couple of
keystrokes.</p>

<p>It&#39;s time for us to accelerate on that vision. With the help of this new
funding, we are going to continue investing in our core product, and in making
it available to an ever-expanding community with many new integrations. Search
is everywhere and you can count on us to come up with new creative ways to
delight your users with an outstanding experience. Stay tuned!</p>

<p>We will also double down on customer success, which has been so important to
our growth. Please make us accountable and let us know if there is anything we
can improve.</p>

<p>We have embarked on a journey to change the face of user-facing search,
everywhere. Join us, it&#39;s going to be fun!</p>

<p>PS: We&#39;re <a href="https://www.algolia.com/jobs">hiring</a>!</p>

  </div>
  
  <div class="post">
    <h1 class="post-title">
      <a href="/stfclv.github.io/2015/05/11/dns-fallback-for-better-resilience/">
        DNS fallback for better resilience
      </a>
    </h1>

    <span class="post-date">11 May 2015</span>

    <p>At Algolia, we are obsessed with finding a way to have a 99.9999% available
architecture. On our way to achieve that, we have to make sure every piece of
the architecture can safely fail without affecting the service.</p>

<p>The first point of the architecture where a customer&#39;s request starts to
interact with our service is not the router in the datacenter, but a DNS
resolving a domain name to the IP address &quot;long time&quot; before that. This piece
of architecture is very often overlooked and that is no surprise as you mostly
get best-effort DNS service automatically with your server.</p>

<h2>Latency</h2>

<p>For couple months we are a happy user of <a href="https://nsone.net">NSONE</a> that
provides us with the first level of logic. We use NSONE for its superb
performance and data-driven DNS that gives us control in steering the traffic
of our <a href="https://www.algolia.com/dsn">Distributed Search Network</a> to the proper
server - whether it means closest or simply available one. But as any other
network dependent service, there are factors outside of NSONE&#39;s control that
can influence availability of its DNS resolves and consequently Algolia. BGP
routing is still a huge magic and &quot;optimizations&quot; of some ISPs are beyond
understanding. Well, they do not always make the optimizations in the
direction we would like to. For some services the change of DNS resolution
time from 10 to 500ms does not mean a lot but for us it is a deal breaker.</p>

<p><a href="https://blog.algolia.com/wp-content/uploads/2015/05/nsone-dig-latency.png"><img src="/algoliasearch-jekyll-hyde/assets/nsone-dig-latency.png" alt="nsone-dig-latency"></a> Resolution of latency-1 via NSONE</p>

<h2>DDoS</h2>

<p>When we started to think about our DNS dependency, we remembered the <a href="https://threatpost.com/ultradns-dealing-with-ddos-attack/105806">2014
DDoS attack on UltraDNS</a> and the situation when there was not enough
<a href="https://twitter.com/hashtag/hugops">#hugops</a> for all the services impacted.
During the previous <a href="http://www.zdnet.com/article/ddos-attack-on-ultradns-affects-amazon-com-salesforce-com-petco-com/">attack on UltraDNS in 2009</a> even
big names like Amazon and SalesForce got impacted.</p>

<h2>Solution</h2>

<p>In most of the cases it would mean adding another DNS name server from a
different provider and replicate the records. But not in ours. NSONE has some
unique features that we would have to give up and find a common feature subset
with a different provider. In the end we would have to serve a portion of DNS
resolutions via slower provider for no good reason.</p>

<p>Since we provide custom made API clients we have one more place where to put
additional logic. Now came a time to choose a resilient provider for our
secondary DNS and since we like AWS, Route53 was a clear choice. Route53 has
ok performance, many POPs around the world and API we already had integration
for.</p>

<p>In the last moment, one more paranoid idea came to us - let&#39;s not rely on a
single <a href="http://en.wikipedia.org/wiki/Top-level_domain">TLD</a>. No good reason
for that, it was just &quot;what if...?&quot; moment.</p>

<p><a href="https://blog.algolia.com/wp-content/uploads/2015/05/route53-dig-latency.png"><img src="/algoliasearch-jekyll-hyde/assets/route53-dig-latency.png" alt="route53-dig-latency"></a> Resolution of latency-1 via
Route53</p>

<p>Right now, all the latest versions of our API clients (detailed list below)
use multiple domain names. &quot;algolia.net&quot; is served by NSONE and provides all
the speed and intelligence, &quot;algolianet.com&quot; is served by Route53 in case that
for any reason contacting server via &quot;algolia.net&quot; fails. It brings more work
to our side, brings more cost on our side but it also brings better sleep for
our customers, their customers and us.</p>

<p>And now we can think what else can fail...</p>

<p>Minimal versions of API clients with support of multiple DNS:</p>

<ul>
<li><a href="https://github.com/algolia/algoliasearch-client-js/releases/tag/2.9.6">Javascript v2: 2.9.6</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-js">Javascript v3: 3.1.0</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-node">Node.js: 1.8.0</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-ruby">Ruby: 1.4.1</a></li>
<li><a href="https://github.com/algolia/algoliasearch-rails">Ruby on rails: Ruby dependency 1.4.1</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-python">Python: 1.5.2</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-php">PHP: 1.5.5</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-java">Java: 1.3.5</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-android">Android: 1.6.3</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-objc">Objective-C: 3.4.1</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-csharp">C-Sharp: 3.1.0</a></li>
<li><a href="https://github.com/algolia/algoliasearch-client-go">Go: 1.2.0</a></li>
</ul>

  </div>
  
</div>

<div class="pagination">
  
    <a class="pagination-item older" href="/stfclv.github.io/page2">Older</a>
  
  
    <span class="pagination-item newer">Newer</span>
  
</div>
</div>

      <div class="algolia__search-content js-algolia__search-content">
        <h1 class="page-title">Search</h1>
        <div class="posts algolia__results"></div>
      </div>
    </div>

  <script>
  window.ALGOLIA_CONFIG = {
    'applicationId': 'Y467AE5IQA',
    'indexName': 'jekyll_stfclv.github.io',
    'apiKey': '',
    'baseurl': '/stfclv.github.io'
  }
</script>
<script id="algolia__template" type="text/template">

  <div class="algolia__result">
    <a class="algolia__result-link" href="{{ full_url }}#algolia:{{ css_selector }}">{{{ _highlightResult.title.value }}}</a>
    {{#posted_at}}
    <div class="algolia__result-date">{{ posted_at_readable }}</div>
    {{/posted_at}}
    <div class="algolia__result-text">{{{ _highlightResult.text.value }}}</div>
  </div>

</script>
<script id="algolia__template--no-results" type="text/template">
  No results found.
</script>
<script src="//cdn.jsdelivr.net/jquery/2.1.4/jquery.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch/3.6.0/algoliasearch.min.js"></script>
<script src="//cdn.jsdelivr.net/algoliasearch.helper/2.1.0/algoliasearch.helper.min.js"></script>
<script src="//cdn.jsdelivr.net/hogan.js/3.0.2/hogan.min.js"></script>
<script src="//cdn.jsdelivr.net/momentjs/2.10.3/moment.min.js"></script>
<script src="/stfclv.github.io/public/js/algolia.js"></script>

  </body>
</html>
